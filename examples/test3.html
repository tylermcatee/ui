<body>
</body>

<script src="../ui.js"></script>

<script>

class MainViewController extends ViewController {

	viewDidLoad() {
		super.viewDidLoad();

		this.view.setBackgroundColor('#202022');

		this.alertBox = View.viewWithFrame(0.0, 0.0, 0.0, 0.0);
		this.alertBox.setBackgroundColor('#161618');
		this.alertBox.setOpacity(0.0);
		this.view.addSubview(this.alertBox);
	}

	shouldLayoutAsMobile() {
		return this.view.width - 40.0 < 800.0;
	}

	viewDidAppear() {
		super.viewDidAppear();

		if (this.shouldLayoutAsMobile()) {
			this.alertBox.setTransform(Transform.scale(1.2, 1.2));
		} else {
			this.alertBox.setTransform(Transform.translate(0.0, 100.0));
		}

		Animation.animate(this.alertBox, 0.75, function(view) {
			view.setOpacity(1.0);
			view.setTransform(Transform.identity());
		}, null /* completion */, Easing.easeOutCubic);
	}

	layoutAlertBox() {
		if (this.view.width - 40.0 > 800.0) {
			this.alertBox.setWidth(800.0);
			this.alertBox.setHeight(300.0);
		} else {
			this.alertBox.setWidth(this.view.width - 40.0);
			this.alertBox.setHeight(this.view.height - 40.0);
		}
		this.alertBox.setX((this.view.width - this.alertBox.width)/2.0);
		this.alertBox.setY((this.view.height - this.alertBox.height)/2.0);
	}

	windowDidResize() {
		this.layoutAlertBox();
	}
}

var viewController = new MainViewController();
Window.mainWindow().setRootViewController(viewController);

</script>